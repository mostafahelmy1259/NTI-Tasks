<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Courses</title>
        <link rel="stylesheet" href="../css/bootstrap.css">
    </head>
    <body class="p-4 bg-light">
        <div class="container">
            <h2 class="mb-4">Courses List</h2>
            <table class="table table-bordered table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Hours</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- JS will insert rows here -->
                </tbody>
            </table>
        </div>
        
        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const courseId = urlParams.get('id');

            fetch(`get.php?id=${courseId}`)
                .then(response => response.json())
                .then(course => {
                    const tableBody = document.getElementById('table-body');

                    if (!course || course.message === "Course not found") {
                        tableBody.innerHTML = `<tr><td colspan="5" class="text-center">Course not found.</td></tr>`;
                        return;
                    }

                    const row = `
                        <tr>
                            <td>${course.id}</td>
                            <td>${course.title}</td>
                            <td>${course.description}</td>
                            <td>${course.hours}</td>
                            <td>$${course.price}</td>
                        </tr>
                    `;
                    tableBody.innerHTML += row;
                })
                .catch(error => {
                console.error('Error:', error);
            });
        </script>

    </body>
</html>
